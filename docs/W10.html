<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.149">

  <meta name="author" content="Jan Lorenz">
  <title>JU-F22-MSDSSB-DSOC-02 - W#10: Performance Metrics, Cross validation, Hypothesis testing, Math: Probability</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">W#10: Performance Metrics, Cross validation, Hypothesis testing, Math: Probability</h1>
  <p class="author">Jan Lorenz</p>
</section>

<section>
<section id="linear-model-for-attitudes-on-european-integration" class="title-slide slide level1 center">
<h1>Linear Model for Attitudes on European Integration</h1>
<div class="cell">

</div>
</section>
<section id="model-purpose-predict-eu-attitudes" class="slide level2 smaller">
<h2>Model purpose: Predict EU attitudes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>ess <span class="ot">&lt;-</span> ess_raw <span class="sc">|&gt;</span> <span class="fu">filter</span>(essround <span class="sc">==</span> <span class="dv">9</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2"></a> <span class="fu">select</span>(cntry, euftf, atchctr, atcherp, imueclt, lrscale) <span class="sc">|&gt;</span> </span>
<span id="cb1-3"><a href="#cb1-3"></a> <span class="fu">mutate</span>(<span class="at">euftf =</span> euftf <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">77</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">88</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">99</span>), </span>
<span id="cb1-4"><a href="#cb1-4"></a>        <span class="at">atchctr =</span> atchctr <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">77</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">88</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">99</span>),</span>
<span id="cb1-5"><a href="#cb1-5"></a>        <span class="at">atcherp =</span> atcherp <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">77</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">88</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">99</span>),</span>
<span id="cb1-6"><a href="#cb1-6"></a>        <span class="at">imueclt =</span> imueclt <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">77</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">88</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">99</span>),</span>
<span id="cb1-7"><a href="#cb1-7"></a>        <span class="at">lrscale =</span> lrscale <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">77</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">88</span>) <span class="sc">|&gt;</span> <span class="fu">na_if</span>(<span class="dv">99</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For the ESS dataset</p>
<ul>
<li>we filter for people from round 9 (2018)</li>
<li>select 5 attitude variables and <code>cntry</code> with 29 countries: AT, BE, BG, CH, CY, CZ, DE, DK, EE, ES, FI, FR, GB, HR, HU, IE, IS, IT, LT, LV, ME, NL, NO, PL, PT, RS, SE, SI, SK</li>
<li>recode <code>NA</code>’s properly for five variables:<br>
<strong>euftf:</strong> European Union: European unification go further (=10) or gone too far (=0)<br>
<strong>atchctr:</strong> How emotionally attached to [country] (0 to 10)<br>
<strong>atcherp:</strong> How emotionally attached to Europe (0 to 10)<br>
<strong>imueclt:</strong> Country’s cultural life undermined (=0) or enriched (=10) by immigrants<br>
<strong>lrscale:</strong> Placement on left (=0) right (=10) scale</li>
</ul>
</section>
<section id="model-1-2-and-3" class="slide level2 smaller">
<h2>Model 1, 2, and 3</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Create an initial split with 80% training data</li>
<li>Create a linear model <code>ess_mod</code></li>
<li>Create three recipes
<ul>
<li><code>ess_rec1</code> without using the country variable</li>
<li><code>ess_rec2</code> with main effects for all 29 countries</li>
<li><code>ess_rec3</code> with additional interaction effects for all 29 countries</li>
</ul></li>
<li>Create the workflow</li>
<li>Fit 3 models by adding the 3 recipes</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">set.seed</span>(<span class="dv">7</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>ess_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(ess, <span class="at">prop =</span> <span class="fl">0.80</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>ess_train <span class="ot">&lt;-</span> <span class="fu">training</span>(ess_split)</span>
<span id="cb2-4"><a href="#cb2-4"></a>ess_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(ess_split)</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>ess_model <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span> <span class="fu">set_engine</span>(<span class="st">"lm"</span>)</span>
<span id="cb2-7"><a href="#cb2-7"></a>ess_rec1 <span class="ot">&lt;-</span> ess_train <span class="sc">|&gt;</span> </span>
<span id="cb2-8"><a href="#cb2-8"></a> <span class="fu">recipe</span>(euftf <span class="sc">~</span> .) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9"></a> <span class="fu">step_rm</span>(cntry)</span>
<span id="cb2-10"><a href="#cb2-10"></a>ess_rec2 <span class="ot">&lt;-</span> ess_train <span class="sc">|&gt;</span> </span>
<span id="cb2-11"><a href="#cb2-11"></a> <span class="fu">recipe</span>(euftf <span class="sc">~</span> .) <span class="sc">|&gt;</span> </span>
<span id="cb2-12"><a href="#cb2-12"></a> <span class="fu">step_dummy</span>(cntry)</span>
<span id="cb2-13"><a href="#cb2-13"></a>ess_rec3 <span class="ot">&lt;-</span> ess_train <span class="sc">|&gt;</span> </span>
<span id="cb2-14"><a href="#cb2-14"></a> <span class="fu">recipe</span>(euftf <span class="sc">~</span> .) <span class="sc">|&gt;</span> </span>
<span id="cb2-15"><a href="#cb2-15"></a> <span class="fu">step_dummy</span>(cntry) <span class="sc">|&gt;</span> </span>
<span id="cb2-16"><a href="#cb2-16"></a> <span class="fu">step_interact</span>(<span class="sc">~</span><span class="fu">starts_with</span>(<span class="st">"cntry"</span>)<span class="sc">:</span><span class="fu">c</span>(atchctr,atcherp,imueclt,lrscale))</span>
<span id="cb2-17"><a href="#cb2-17"></a></span>
<span id="cb2-18"><a href="#cb2-18"></a>ess_wflow <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-19"><a href="#cb2-19"></a> <span class="fu">add_model</span>(ess_model)</span>
<span id="cb2-20"><a href="#cb2-20"></a></span>
<span id="cb2-21"><a href="#cb2-21"></a>ess_fit1 <span class="ot">&lt;-</span> ess_wflow <span class="sc">|&gt;</span> </span>
<span id="cb2-22"><a href="#cb2-22"></a> <span class="fu">add_recipe</span>(ess_rec1) <span class="sc">|&gt;</span> </span>
<span id="cb2-23"><a href="#cb2-23"></a> <span class="fu">fit</span>(ess_train)</span>
<span id="cb2-24"><a href="#cb2-24"></a>ess_fit2 <span class="ot">&lt;-</span> ess_wflow <span class="sc">|&gt;</span> </span>
<span id="cb2-25"><a href="#cb2-25"></a> <span class="fu">add_recipe</span>(ess_rec2) <span class="sc">|&gt;</span> </span>
<span id="cb2-26"><a href="#cb2-26"></a> <span class="fu">fit</span>(ess_train)</span>
<span id="cb2-27"><a href="#cb2-27"></a>ess_fit3 <span class="ot">&lt;-</span> ess_wflow <span class="sc">|&gt;</span> </span>
<span id="cb2-28"><a href="#cb2-28"></a> <span class="fu">add_recipe</span>(ess_rec3) <span class="sc">|&gt;</span> </span>
<span id="cb2-29"><a href="#cb2-29"></a> <span class="fu">fit</span>(ess_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="model-fits" class="slide level2 smaller">
<h2>Model fits</h2>
<div class="columns">
<div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">tidy</span>(ess_fit1) <span class="sc">|&gt;</span> <span class="fu">select</span>(term, estimate) <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  term        estimate
  &lt;chr&gt;          &lt;dbl&gt;
1 (Intercept)   2.92  
2 atchctr      -0.0952
3 atcherp       0.285 
4 imueclt       0.287 
5 lrscale      -0.0401</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">tidy</span>(ess_fit2)  <span class="sc">|&gt;</span> <span class="fu">select</span>(term, estimate) <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 × 2
   term        estimate
   &lt;chr&gt;          &lt;dbl&gt;
 1 (Intercept)  2.10   
 2 atchctr     -0.101  
 3 atcherp      0.294  
 4 imueclt      0.299  
 5 lrscale     -0.0196 
 6 cntry_BE     0.747  
 7 cntry_BG     1.20   
 8 cntry_CH    -0.0476 
 9 cntry_CY     1.39   
10 cntry_CZ     0.184  
11 cntry_DE     1.32   
12 cntry_DK     1.01   
13 cntry_EE     0.532  
14 cntry_ES     1.14   
15 cntry_FI     0.00996
16 cntry_FR     0.743  
17 cntry_GB    -0.0705 
18 cntry_HR     0.729  
19 cntry_HU     0.216  
20 cntry_IE     0.294  
21 cntry_IS     0.0371 
22 cntry_IT     0.593  
23 cntry_LT     2.15   
24 cntry_LV     0.426  
25 cntry_ME     2.41   
26 cntry_NL     0.600  
27 cntry_NO    -0.170  
28 cntry_PL     1.19   
29 cntry_PT     1.42   
30 cntry_RS     1.21   
31 cntry_SE    -0.0761 
32 cntry_SI     1.53   
33 cntry_SK     0.178  </code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">tidy</span>(ess_fit3)  <span class="sc">|&gt;</span> <span class="fu">select</span>(term, estimate) <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">145</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 145 × 2
    term               estimate
    &lt;chr&gt;                 &lt;dbl&gt;
  1 (Intercept)         2.65   
  2 atchctr            -0.135  
  3 atcherp             0.259  
  4 imueclt             0.412  
  5 lrscale            -0.141  
  6 cntry_BE            0.0202 
  7 cntry_BG           -0.264  
  8 cntry_CH            1.70   
  9 cntry_CY            0.242  
 10 cntry_CZ           -0.914  
 11 cntry_DE            0.248  
 12 cntry_DK            0.637  
 13 cntry_EE           -0.709  
 14 cntry_ES            1.15   
 15 cntry_FI            0.143  
 16 cntry_FR            0.136  
 17 cntry_GB            0.486  
 18 cntry_HR            0.177  
 19 cntry_HU           -0.190  
 20 cntry_IE            0.186  
 21 cntry_IS            0.881  
 22 cntry_IT           -0.582  
 23 cntry_LT            0.925  
 24 cntry_LV           -1.60   
 25 cntry_ME            0.542  
 26 cntry_NL           -0.804  
 27 cntry_NO            0.763  
 28 cntry_PL            2.24   
 29 cntry_PT            2.18   
 30 cntry_RS            0.220  
 31 cntry_SE           -0.507  
 32 cntry_SI            1.19   
 33 cntry_SK           -0.604  
 34 cntry_BE_x_atchctr -0.0249 
 35 cntry_BE_x_atcherp  0.128  
 36 cntry_BE_x_imueclt -0.130  
 37 cntry_BE_x_lrscale  0.148  
 38 cntry_BG_x_atchctr  0.220  
 39 cntry_BG_x_atcherp -0.0614 
 40 cntry_BG_x_imueclt -0.159  
 41 cntry_BG_x_lrscale  0.151  
 42 cntry_CH_x_atchctr -0.0286 
 43 cntry_CH_x_atcherp  0.0194 
 44 cntry_CH_x_imueclt -0.197  
 45 cntry_CH_x_lrscale -0.106  
 46 cntry_CY_x_atchctr  0.0956 
 47 cntry_CY_x_atcherp  0.0496 
 48 cntry_CY_x_imueclt -0.336  
 49 cntry_CY_x_lrscale  0.300  
 50 cntry_CZ_x_atchctr -0.0375 
 51 cntry_CZ_x_atcherp -0.0267 
 52 cntry_CZ_x_imueclt  0.0735 
 53 cntry_CZ_x_lrscale  0.273  
 54 cntry_DE_x_atchctr  0.0299 
 55 cntry_DE_x_atcherp  0.159  
 56 cntry_DE_x_imueclt -0.127  
 57 cntry_DE_x_lrscale  0.0836 
 58 cntry_DK_x_atchctr -0.0884 
 59 cntry_DK_x_atcherp  0.0752 
 60 cntry_DK_x_imueclt  0.0109 
 61 cntry_DK_x_lrscale  0.0970 
 62 cntry_EE_x_atchctr  0.0895 
 63 cntry_EE_x_atcherp  0.0464 
 64 cntry_EE_x_imueclt -0.137  
 65 cntry_EE_x_lrscale  0.180  
 66 cntry_ES_x_atchctr  0.0735 
 67 cntry_ES_x_atcherp -0.0706 
 68 cntry_ES_x_imueclt -0.0704 
 69 cntry_ES_x_lrscale  0.0210 
 70 cntry_FI_x_atchctr -0.106  
 71 cntry_FI_x_atcherp  0.0602 
 72 cntry_FI_x_imueclt -0.104  
 73 cntry_FI_x_lrscale  0.176  
 74 cntry_FR_x_atchctr -0.0254 
 75 cntry_FR_x_atcherp  0.185  
 76 cntry_FR_x_imueclt -0.195  
 77 cntry_FR_x_lrscale  0.139  
 78 cntry_GB_x_atchctr -0.0968 
 79 cntry_GB_x_atcherp  0.161  
 80 cntry_GB_x_imueclt -0.196  
 81 cntry_GB_x_lrscale  0.0630 
 82 cntry_HR_x_atchctr  0.145  
 83 cntry_HR_x_atcherp -0.0138 
 84 cntry_HR_x_imueclt -0.213  
 85 cntry_HR_x_lrscale  0.120  
 86 cntry_HU_x_atchctr  0.0531 
 87 cntry_HU_x_atcherp -0.0656 
 88 cntry_HU_x_imueclt -0.0588 
 89 cntry_HU_x_lrscale  0.160  
 90 cntry_IE_x_atchctr  0.0630 
 91 cntry_IE_x_atcherp -0.0230 
 92 cntry_IE_x_imueclt -0.138  
 93 cntry_IE_x_lrscale  0.0874 
 94 cntry_IS_x_atchctr -0.186  
 95 cntry_IS_x_atcherp  0.111  
 96 cntry_IS_x_imueclt -0.0756 
 97 cntry_IS_x_lrscale  0.0596 
 98 cntry_IT_x_atchctr  0.0381 
 99 cntry_IT_x_atcherp -0.0405 
100 cntry_IT_x_imueclt  0.114  
101 cntry_IT_x_lrscale  0.111  
102 cntry_LT_x_atchctr  0.145  
103 cntry_LT_x_atcherp -0.113  
104 cntry_LT_x_imueclt -0.0917 
105 cntry_LT_x_lrscale  0.219  
106 cntry_LV_x_atchctr  0.130  
107 cntry_LV_x_atcherp -0.0431 
108 cntry_LV_x_imueclt -0.161  
109 cntry_LV_x_lrscale  0.365  
110 cntry_ME_x_atchctr  0.198  
111 cntry_ME_x_atcherp  0.136  
112 cntry_ME_x_imueclt -0.179  
113 cntry_ME_x_lrscale  0.0701 
114 cntry_NL_x_atchctr  0.0416 
115 cntry_NL_x_atcherp  0.138  
116 cntry_NL_x_imueclt -0.130  
117 cntry_NL_x_lrscale  0.182  
118 cntry_NO_x_atchctr -0.0643 
119 cntry_NO_x_atcherp -0.0283 
120 cntry_NO_x_imueclt -0.202  
121 cntry_NO_x_lrscale  0.187  
122 cntry_PL_x_atchctr -0.00472
123 cntry_PL_x_atcherp  0.0737 
124 cntry_PL_x_imueclt -0.231  
125 cntry_PL_x_lrscale -0.0290 
126 cntry_PT_x_atchctr  0.0377 
127 cntry_PT_x_atcherp -0.114  
128 cntry_PT_x_imueclt -0.178  
129 cntry_PT_x_lrscale  0.126  
130 cntry_RS_x_atchctr  0.139  
131 cntry_RS_x_atcherp  0.0996 
132 cntry_RS_x_imueclt -0.285  
133 cntry_RS_x_lrscale  0.167  
134 cntry_SE_x_atchctr  0.0493 
135 cntry_SE_x_atcherp -0.00505
136 cntry_SE_x_imueclt -0.138  
137 cntry_SE_x_lrscale  0.160  
138 cntry_SI_x_atchctr  0.199  
139 cntry_SI_x_atcherp -0.165  
140 cntry_SI_x_imueclt -0.256  
141 cntry_SI_x_lrscale  0.204  
142 cntry_SK_x_atchctr  0.0955 
143 cntry_SK_x_atcherp -0.0549 
144 cntry_SK_x_imueclt -0.0424 
145 cntry_SK_x_lrscale  0.137  </code></pre>
</div>
</div>
</div>
</div>
<p>Note: We omit std.error, p-values and so on in the display here because they are usually small in this large dataset, and we will not look at them now.</p>
</section>
<section id="recap-interpreting-interaction-effects" class="slide level2 smaller">
<h2>Recap: Interpreting interaction effects</h2>
<p>In Model 3 the reference country is Austria (AT) therefore the intercept and main coefficient are valid for Austria and all interaction coefficients have to be added to these to be interpreted.</p>
<p>Cross check: A linear model with the data filtered for Austria only without a country effect:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>ess_train <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a> <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">"AT"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a> <span class="fu">select</span>(<span class="sc">-</span>cntry) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4"></a> <span class="fu">lm</span>(<span class="at">formula =</span> euftf <span class="sc">~</span> . ) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5"></a> <span class="fu">tidy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)    2.65     0.364       7.28 5.06e-13
2 atchctr       -0.135    0.0353     -3.83 1.34e- 4
3 atcherp        0.259    0.0296      8.76 4.51e-18
4 imueclt        0.412    0.0268     15.3  6.49e-50
5 lrscale       -0.141    0.0338     -4.16 3.34e- 5</code></pre>
</div>
</div>
<p>The coefficients are identical to the full model with all interaction effects.</p>
</section>
<section id="make-predictions-for-training-data" class="slide level2 smaller">
<h2>Make predictions for training data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>ess_train_pred1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(ess_fit1, ess_train) <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a> <span class="fu">bind_cols</span>(ess_train <span class="sc">|&gt;</span> <span class="fu">select</span>(euftf, <span class="fu">everything</span>()))</span>
<span id="cb11-3"><a href="#cb11-3"></a>ess_train_pred1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 39,615 × 7
   .pred euftf cntry atchctr atcherp imueclt lrscale
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1  5.27     3 HR          8       7       5       8
 2  4.93     6 BG          6       5       5       7
 3 NA        3 IE         10       9       3      NA
 4 NA       NA EE         10      10       6      NA
 5  5.20    NA BG         10       7       5       5
 6  5.67     8 BG          9       6       8      10
 7  5.52     3 AT         10      10       3       4
 8  7.22     3 FR          9       8      10       0
 9  4.17     1 FI          8       5       3       7
10  4.47     4 BG         10       7       3       9
# … with 39,605 more rows</code></pre>
</div>
</div>
<p>Note:</p>
<ul>
<li>We can make predictions when the response in <code>NA</code></li>
<li>We cannot make predictions when on predictor is <code>NA</code></li>
</ul>
</section>
<section id="make-predictions-for-training-data-1" class="slide level2 smaller">
<h2>Make predictions for training data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>ess_train_pred2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(ess_fit2, ess_train) <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a> <span class="fu">bind_cols</span>(ess_train <span class="sc">|&gt;</span> <span class="fu">select</span>(euftf, <span class="fu">everything</span>()))</span>
<span id="cb13-3"><a href="#cb13-3"></a>ess_train_pred2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 39,615 × 7
   .pred euftf cntry atchctr atcherp imueclt lrscale
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1  5.42     3 HR          8       7       5       8
 2  5.53     6 BG          6       5       5       7
 3 NA        3 IE         10       9       3      NA
 4 NA       NA EE         10      10       6      NA
 5  5.75    NA BG         10       7       5       5
 6  6.36     8 BG          9       6       8      10
 7  4.86     3 AT         10      10       3       4
 8  7.28     3 FR          9       8      10       0
 9  3.54     1 FI          8       5       3       7
10  5.08     4 BG         10       7       3       9
# … with 39,605 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>ess_train_pred3 <span class="ot">&lt;-</span> <span class="fu">predict</span>(ess_fit3, ess_train) <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a> <span class="fu">bind_cols</span>(ess_train <span class="sc">|&gt;</span> <span class="fu">select</span>(euftf, <span class="fu">everything</span>()))</span>
<span id="cb15-3"><a href="#cb15-3"></a>ess_train_pred3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 39,615 × 7
   .pred euftf cntry atchctr atcherp imueclt lrscale
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1  5.45     3 HR          8       7       5       8
 2  5.22     6 BG          6       5       5       7
 3 NA        3 IE         10       9       3      NA
 4 NA       NA EE         10      10       6      NA
 5  5.94    NA BG         10       7       5       5
 6  6.47     8 BG          9       6       8      10
 7  4.56     3 AT         10      10       3       4
 8  7.06     3 FR          9       8      10       0
 9  3.63     1 FI          8       5       3       7
10  5.47     4 BG         10       7       3       9
# … with 39,605 more rows</code></pre>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="model-performance" class="title-slide slide level1 center">
<h1>Model performance</h1>

</section>
<section id="r-squared" class="slide level2 smaller">
<h2>R-squared</h2>
<p>Recap R-squared: Percentage of variability in <code>euftf</code> explained by the model</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">rsq</span>(ess_train_pred1, </span>
<span id="cb17-2"><a href="#cb17-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb17-3"><a href="#cb17-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rsq     standard       0.178</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">rsq</span>(ess_train_pred2, </span>
<span id="cb19-2"><a href="#cb19-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb19-3"><a href="#cb19-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rsq     standard       0.230</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">rsq</span>(ess_train_pred3, </span>
<span id="cb21-2"><a href="#cb21-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb21-3"><a href="#cb21-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rsq     standard       0.253</code></pre>
</div>
</div>
</div>
<p>Which model is better in prediction?</p>
</section>
<section id="root-mean-squared-error-rmse" class="slide level2 smaller">
<h2>Root mean squared error (RMSE)</h2>
<p>RMSE is an alternative measure of performance.</p>
<p><span class="math display">\[\text{RMSE} = \sqrt{\frac{1}{n}\sum_{i = 1}^n (y_i - \hat{y}_i)^2}\]</span></p>
<p>where <span class="math inline">\(\hat{y}_i\)</span> is the predicted value and <span class="math inline">\(y_i\)</span> the true value.<br>
(The name RMSE pretty much describes what the measure does.)</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">rmse</span>(ess_train_pred1, </span>
<span id="cb23-2"><a href="#cb23-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb23-3"><a href="#cb23-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rmse    standard        2.44</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">rmse</span>(ess_train_pred2, </span>
<span id="cb25-2"><a href="#cb25-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb25-3"><a href="#cb25-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rmse    standard        2.36</code></pre>
</div>
</div>
</div>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">rmse</span>(ess_train_pred3, </span>
<span id="cb27-2"><a href="#cb27-2"></a>     <span class="at">truth =</span> euftf, </span>
<span id="cb27-3"><a href="#cb27-3"></a>     <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rmse    standard        2.32</code></pre>
</div>
</div>
</div>
</section>
<section id="should-we-prefer-larger-or-lower-rmse" class="slide level2 smaller">
<h2>Should we prefer larger or lower RMSE?</h2>
<p><strong>Lower. The lower the error, the better the model’s prediction.</strong></p>
<p>Notes:</p>
<ul>
<li>The common method to fit a linear model is the <em>ordinary least squares</em> (OLS) method</li>
<li>That means the fitted parameters should deliver the lowest possible sum of squared errors (SSE) between predicted and observed values.</li>
<li>Minimizing the sum of squared errors (SSE) is identical to minimizing the mean of squared errors (MSE) because it only adds the factor <span class="math inline">\(1/n\)</span>.</li>
<li>Minimizing the mean of squared errors (MSE) is identical to minimizing the root mean of squared errors (RMSE) because the square root is strictly monotone function.</li>
</ul>
<p>Conclusion: RMSE can be seen as a definition of the OLS optimization goal.</p>
</section>
<section id="interpreting-rmse" class="slide level2 smaller">
<h2>Interpreting RMSE</h2>
<p>In contrast to R-squared, RMSE can only be interpreted with knowledge about the range and of the response variable.</p>
<p>The values of <code>euftf</code> range from 0 to 10</p>

<img data-src="W10_files/figure-revealjs/unnamed-chunk-17-1.png" width="960" class="r-stretch"><p>The RMSE of 2.3244529 shows how much predicted values deviate from the true value on average. (Taking the squaring of differences and root of the average into account.)</p>
</section>
<section id="make-predictions-for-testing-data" class="slide level2">
<h2>Make predictions for testing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>ess_test_pred3 <span class="ot">&lt;-</span> <span class="fu">predict</span>(ess_fit3, ess_test) <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a> <span class="fu">bind_cols</span>(ess_test <span class="sc">|&gt;</span> <span class="fu">select</span>(euftf, <span class="fu">everything</span>()))</span>
<span id="cb29-3"><a href="#cb29-3"></a>ess_test_pred3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9,904 × 7
   .pred euftf cntry atchctr atcherp imueclt lrscale
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1  3.93     5 AT          9       6       4       5
 2 NA        2 AT         10       3       7      NA
 3  4.49     4 AT          5       5       4       3
 4  2.56     3 AT          8       6       0       4
 5  7.73    10 AT         10      10      10       2
 6  6.66     8 AT          5       7       8       3
 7  2.87     2 AT         10       4       3       5
 8  3.43     5 AT         10       3       5       5
 9  7.19    10 AT          7       9       8       1
10  3.24     8 AT         10       6       3       6
# … with 9,894 more rows</code></pre>
</div>
</div>
</section>
<section id="training-vs.-testing-data-prediction" class="slide level2 smaller">
<h2>Training vs.&nbsp;testing data prediction</h2>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Model</th>
<th style="text-align: left;">Metric</th>
<th style="text-align: right;">Train</th>
<th style="text-align: right;">Test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.178</td>
<td style="text-align: right;">0.169</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">RMSE</td>
<td style="text-align: right;">2.440</td>
<td style="text-align: right;">2.451</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.230</td>
<td style="text-align: right;">0.216</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">RMSE</td>
<td style="text-align: right;">2.360</td>
<td style="text-align: right;">2.381</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.253</td>
<td style="text-align: right;">0.242</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">RMSE</td>
<td style="text-align: right;">2.324</td>
<td style="text-align: right;">2.340</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>R-squared is a little lower in the test data, RMSE a bit higher (both mean lower performance)</li>
<li>Often, metrics are worse for the testing data, as here.</li>
<li>However, in it can also be the other way round by chance.</li>
</ul>
</section>
<section id="how-to-evaluate-performance-on-training-data-only" class="slide level2 smaller">
<h2>How to evaluate performance on training data only?</h2>
<ul>
<li>Model performance changes with the random selection of the training data. How can we then reliably compare models?</li>
<li>Anyway, the training data is not a good source for model performance. It is not an independent piece of information. Predicting the training data only reveals what the model already “knows”.</li>
<li>Also, we should save the testing data only for the final validation, so we should not use it systematically to compare models.</li>
</ul>
<p>A solution: <strong>Cross validation</strong></p>
</section></section>
<section>
<section id="cross-validation" class="title-slide slide level1 center">
<h1>Cross validation</h1>
<p>Large part of the content adapted from <a href="http://datasciencebox.org" class="uri">http://datasciencebox.org</a>.</p>
</section>
<section id="cross-validation-1" class="slide level2">
<h2>Cross validation</h2>
<p>More specifically, <strong><span class="math inline">\(v\)</span>-fold cross validation</strong>:</p>
<ul>
<li>Shuffle your data and make a partition with <span class="math inline">\(v\)</span> parts
<ul>
<li>Recall from set theory: A <strong>partition</strong> is a division of a set into mutually disjoint parts which union cover the whole set. Here applied to observations (rows) in a data frame.</li>
</ul></li>
<li>Use 1 part for validation, and the remaining <span class="math inline">\(v-1\)</span> parts for training</li>
<li>Repeat <span class="math inline">\(v\)</span> times</li>
</ul>
</section>
<section id="cross-validation-2" class="slide level2">
<h2>Cross validation</h2>

<img data-src="img/cross-validation.png" class="r-stretch"></section>
<section id="split-data-into-folds" class="slide level2 smaller">
<h2>Split data into folds</h2>
<p>We split the ess data into ten parts.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(ess_train, <span class="at">v =</span> <span class="dv">10</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a>folds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#  10-fold cross-validation 
# A tibble: 10 × 2
   splits               id    
   &lt;list&gt;               &lt;chr&gt; 
 1 &lt;split [35653/3962]&gt; Fold01
 2 &lt;split [35653/3962]&gt; Fold02
 3 &lt;split [35653/3962]&gt; Fold03
 4 &lt;split [35653/3962]&gt; Fold04
 5 &lt;split [35653/3962]&gt; Fold05
 6 &lt;split [35654/3961]&gt; Fold06
 7 &lt;split [35654/3961]&gt; Fold07
 8 &lt;split [35654/3961]&gt; Fold08
 9 &lt;split [35654/3961]&gt; Fold09
10 &lt;split [35654/3961]&gt; Fold10</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="img/cross-validation.png"></p>
</div>
</div>
</section>
<section id="fit-resamples" class="slide level2 smaller">
<h2>Fit resamples</h2>
<p>We use the workflow (model plus formula and recipe) we have on the <code>folds</code> with <code>fit_resamples</code>.</p>
<div class="cell" data-hash="W10_cache/revealjs/unnamed-chunk-21_ec47d0240ac60a2656bdb77b967f3a91">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>ess_fit3_rs <span class="ot">&lt;-</span> ess_wflow <span class="sc">|&gt;</span> <span class="fu">add_recipe</span>(ess_rec3) <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a> <span class="fu">fit_resamples</span>(folds)</span>
<span id="cb33-3"><a href="#cb33-3"></a>ess_fit3_rs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Resampling results
# 10-fold cross-validation 
# A tibble: 10 × 4
   splits               id     .metrics         .notes          
   &lt;list&gt;               &lt;chr&gt;  &lt;list&gt;           &lt;list&gt;          
 1 &lt;split [35653/3962]&gt; Fold01 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 2 &lt;split [35653/3962]&gt; Fold02 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 3 &lt;split [35653/3962]&gt; Fold03 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 4 &lt;split [35653/3962]&gt; Fold04 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 5 &lt;split [35653/3962]&gt; Fold05 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 6 &lt;split [35654/3961]&gt; Fold06 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 7 &lt;split [35654/3961]&gt; Fold07 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 8 &lt;split [35654/3961]&gt; Fold08 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
 9 &lt;split [35654/3961]&gt; Fold09 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;
10 &lt;split [35654/3961]&gt; Fold10 &lt;tibble [2 × 4]&gt; &lt;tibble [0 × 3]&gt;</code></pre>
</div>
</div>
<p>This computes a set of performance metrics for each folds. For linear models the defaults are R-squared and RMSE.</p>
</section>
<section id="collect-the-metrics" class="slide level2">
<h2>Collect the metrics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>ess_fit3_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  .metric .estimator  mean     n std_err .config             
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 rmse    standard   2.34     10 0.00794 Preprocessor1_Model1
2 rsq     standard   0.245    10 0.00667 Preprocessor1_Model1</code></pre>
</div>
</div>
<p>These values are indeed closer to the values we got for the test data.</p>
</section>
<section id="deeper-look-into-the-metrics" class="slide level2 smaller">
<h2>Deeper look into the metrics</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>ess_fit3_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>(<span class="at">summarize =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 5
   id     .metric .estimator .estimate .config             
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               
 1 Fold01 rmse    standard       2.29  Preprocessor1_Model1
 2 Fold01 rsq     standard       0.278 Preprocessor1_Model1
 3 Fold02 rmse    standard       2.35  Preprocessor1_Model1
 4 Fold02 rsq     standard       0.238 Preprocessor1_Model1
 5 Fold03 rmse    standard       2.33  Preprocessor1_Model1
 6 Fold03 rsq     standard       0.258 Preprocessor1_Model1
 7 Fold04 rmse    standard       2.38  Preprocessor1_Model1
 8 Fold04 rsq     standard       0.249 Preprocessor1_Model1
 9 Fold05 rmse    standard       2.34  Preprocessor1_Model1
10 Fold05 rsq     standard       0.250 Preprocessor1_Model1
11 Fold06 rmse    standard       2.32  Preprocessor1_Model1
12 Fold06 rsq     standard       0.261 Preprocessor1_Model1
13 Fold07 rmse    standard       2.36  Preprocessor1_Model1
14 Fold07 rsq     standard       0.215 Preprocessor1_Model1
15 Fold08 rmse    standard       2.35  Preprocessor1_Model1
16 Fold08 rsq     standard       0.214 Preprocessor1_Model1
17 Fold09 rmse    standard       2.33  Preprocessor1_Model1
18 Fold09 rsq     standard       0.257 Preprocessor1_Model1
19 Fold10 rmse    standard       2.35  Preprocessor1_Model1
20 Fold10 rsq     standard       0.226 Preprocessor1_Model1</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: right;">rmse</th>
<th style="text-align: right;">rsq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fold01</td>
<td style="text-align: right;">2.286402</td>
<td style="text-align: right;">0.2780252</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold02</td>
<td style="text-align: right;">2.352520</td>
<td style="text-align: right;">0.2378150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold03</td>
<td style="text-align: right;">2.334960</td>
<td style="text-align: right;">0.2579689</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold04</td>
<td style="text-align: right;">2.376705</td>
<td style="text-align: right;">0.2491427</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold05</td>
<td style="text-align: right;">2.338995</td>
<td style="text-align: right;">0.2503009</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold06</td>
<td style="text-align: right;">2.315747</td>
<td style="text-align: right;">0.2607719</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold07</td>
<td style="text-align: right;">2.362725</td>
<td style="text-align: right;">0.2147322</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold08</td>
<td style="text-align: right;">2.347958</td>
<td style="text-align: right;">0.2137093</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fold09</td>
<td style="text-align: right;">2.331361</td>
<td style="text-align: right;">0.2568661</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fold10</td>
<td style="text-align: right;">2.345771</td>
<td style="text-align: right;">0.2258870</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="cross-validation-for-logistic-regression" class="slide level2 smaller">
<h2>Cross validation for logistic regression</h2>
<p>Take 2 simple models predicting the sex of penguins.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb39-2"><a href="#cb39-2"></a>penguins <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(penguins)</span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="fu">set.seed</span>(<span class="dv">9999</span>)</span>
<span id="cb39-4"><a href="#cb39-4"></a>peng_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(penguins, <span class="at">prob =</span> <span class="fl">0.8</span>)</span>
<span id="cb39-5"><a href="#cb39-5"></a>peng_train <span class="ot">&lt;-</span> <span class="fu">training</span>(peng_split)</span>
<span id="cb39-6"><a href="#cb39-6"></a>peng_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(peng_split)</span>
<span id="cb39-7"><a href="#cb39-7"></a>peng_folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(peng_train, <span class="at">v =</span> <span class="dv">5</span>)</span>
<span id="cb39-8"><a href="#cb39-8"></a></span>
<span id="cb39-9"><a href="#cb39-9"></a>peng_rec1 <span class="ot">&lt;-</span> peng_train <span class="sc">|&gt;</span> </span>
<span id="cb39-10"><a href="#cb39-10"></a> <span class="fu">recipe</span>(sex <span class="sc">~</span> flipper_length_mm <span class="sc">+</span> body_mass_g, <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb39-11"><a href="#cb39-11"></a>peng_rec2 <span class="ot">&lt;-</span> peng_train <span class="sc">|&gt;</span> </span>
<span id="cb39-12"><a href="#cb39-12"></a> <span class="fu">recipe</span>(sex <span class="sc">~</span> bill_depth_mm <span class="sc">+</span> bill_length_mm, <span class="at">family =</span> <span class="st">"binomial"</span>)  </span>
<span id="cb39-13"><a href="#cb39-13"></a>peng_mod <span class="ot">&lt;-</span> <span class="fu">logistic_reg</span>() <span class="sc">|&gt;</span> <span class="fu">set_engine</span>(<span class="st">"glm"</span>)</span>
<span id="cb39-14"><a href="#cb39-14"></a>peng_wflow1 <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span> <span class="fu">add_model</span>(peng_mod) <span class="sc">|&gt;</span> <span class="fu">add_recipe</span>(peng_rec1)</span>
<span id="cb39-15"><a href="#cb39-15"></a>peng_wflow2 <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span> <span class="fu">add_model</span>(peng_mod) <span class="sc">|&gt;</span> <span class="fu">add_recipe</span>(peng_rec2)</span>
<span id="cb39-16"><a href="#cb39-16"></a></span>
<span id="cb39-17"><a href="#cb39-17"></a>peng_fit1 <span class="ot">&lt;-</span> peng_wflow1 <span class="sc">|&gt;</span> <span class="fu">fit</span>(peng_train)</span>
<span id="cb39-18"><a href="#cb39-18"></a>peng_fit2 <span class="ot">&lt;-</span> peng_wflow2 <span class="sc">|&gt;</span> <span class="fu">fit</span>(peng_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  term              estimate std.error statistic  p.value
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)        8.72     3.02          2.89 3.90e- 3
2 flipper_length_mm -0.0988   0.0225       -4.38 1.16e- 5
3 body_mass_g        0.00267  0.000437      6.12 9.59e-10</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  term           estimate std.error statistic  p.value
  &lt;chr&gt;             &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)     -24.4      3.29       -7.40 1.33e-13
2 bill_depth_mm     0.791    0.111       7.13 1.01e-12
3 bill_length_mm    0.249    0.0407      6.13 8.97e-10</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="cross-validation-for-logistic-regression-1" class="slide level2 smaller">
<h2>Cross validation for logistic regression</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>peng_fit1_rs <span class="ot">&lt;-</span> peng_wflow1 <span class="sc">|&gt;</span> <span class="fu">fit_resamples</span>(peng_folds)</span>
<span id="cb42-2"><a href="#cb42-2"></a>peng_fit2_rs <span class="ot">&lt;-</span> peng_wflow2 <span class="sc">|&gt;</span> <span class="fu">fit_resamples</span>(peng_folds)</span>
<span id="cb42-3"><a href="#cb42-3"></a>peng_fit1_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  .metric  .estimator  mean     n std_err .config             
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary     0.654     5  0.0298 Preprocessor1_Model1
2 roc_auc  binary     0.755     5  0.0268 Preprocessor1_Model1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>peng_fit2_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  .metric  .estimator  mean     n std_err .config             
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary     0.783     5  0.0240 Preprocessor1_Model1
2 roc_auc  binary     0.857     5  0.0123 Preprocessor1_Model1</code></pre>
</div>
</div>
<ul>
<li>For the logistic regression <code>fit_resamples</code> has two performance measures per default: <strong>AUC</strong> (area under the ROC-curve) and <strong>accuracy</strong>.</li>
<li>The model using the two variables about penguin bills performs better than the model using body mass and flipper length.</li>
</ul>
</section>
<section id="accuracy-for-classifiers" class="slide level2 smaller">
<h2>Accuracy for classifiers</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>Accuracy</strong> is the fraction of correct predictions:<br>
(TP + TN) / (TP + FP + FN + TN)</p>
<ul>
<li>Accuracy is a good overall performance measure but it does not specify if errors are false positives or false negatives.</li>
</ul>
<p>For logistic regression:</p>
</div><div class="column" style="width:40%;">
<p><img data-src="img/confusion_small.png"></p>
</div>
</div>
<ul>
<li>Accuracy relies a decision threshold (default 50%). It has an easy interpretation.</li>
<li>AUC is the area under the ROC-curve sweeping over all possible thresholds.</li>
</ul>
<p>Recall:<br>
<strong>Sensitivity</strong> is the <em>true positive rate</em>: TP / (TP + FN)<br>
<strong>Specificity</strong> is the <em>true negative rate</em>: TN / (TN + FP)</p>
</section>
<section id="comparison-of-metrics" class="slide level2 smaller">
<h2>Comparison of metrics</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Flipper length, body mass</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>peng_fit1_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>(<span class="at">summarize =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>.config) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(.metric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   id    .metric  .estimator .estimate
   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
 1 Fold1 accuracy binary         0.76 
 2 Fold2 accuracy binary         0.6  
 3 Fold3 accuracy binary         0.62 
 4 Fold4 accuracy binary         0.68 
 5 Fold5 accuracy binary         0.612
 6 Fold1 roc_auc  binary         0.851
 7 Fold2 roc_auc  binary         0.689
 8 Fold3 roc_auc  binary         0.745
 9 Fold4 roc_auc  binary         0.728
10 Fold5 roc_auc  binary         0.761</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>peng_test_pred1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(peng_fit1, <span class="at">new_data =</span> peng_test, <span class="at">type =</span> <span class="st">"prob"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2"></a> <span class="fu">mutate</span>(<span class="at">.pred_class_0.5 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>(),</span>
<span id="cb48-3"><a href="#cb48-3"></a>        <span class="at">.pred_class_0.45 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.45</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>(),</span>
<span id="cb48-4"><a href="#cb48-4"></a>        <span class="at">.pred_class_0.55 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.55</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb48-5"><a href="#cb48-5"></a>        ) <span class="sc">|&gt;</span> </span>
<span id="cb48-6"><a href="#cb48-6"></a> <span class="fu">bind_cols</span>(peng_test <span class="sc">|&gt;</span> <span class="fu">select</span>(sex, <span class="fu">everything</span>())) </span>
<span id="cb48-7"><a href="#cb48-7"></a>peng_test_pred1 <span class="sc">|&gt;</span> <span class="fu">roc_auc</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_female)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.830</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Bill length and depth</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>peng_fit2_rs <span class="sc">|&gt;</span> <span class="fu">collect_metrics</span>(<span class="at">summarize =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>.config) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(.metric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   id    .metric  .estimator .estimate
   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
 1 Fold1 accuracy binary         0.8  
 2 Fold2 accuracy binary         0.86 
 3 Fold3 accuracy binary         0.78 
 4 Fold4 accuracy binary         0.76 
 5 Fold5 accuracy binary         0.714
 6 Fold1 roc_auc  binary         0.851
 7 Fold2 roc_auc  binary         0.889
 8 Fold3 roc_auc  binary         0.881
 9 Fold4 roc_auc  binary         0.840
10 Fold5 roc_auc  binary         0.825</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>peng_test_pred2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(peng_fit2, <span class="at">new_data =</span> peng_test, <span class="at">type =</span> <span class="st">"prob"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2"></a> <span class="fu">mutate</span>(<span class="at">.pred_class_0.5 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>(),</span>
<span id="cb52-3"><a href="#cb52-3"></a>        <span class="at">.pred_class_0.45 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.45</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>(),</span>
<span id="cb52-4"><a href="#cb52-4"></a>        <span class="at">.pred_class_0.55 =</span> <span class="fu">if_else</span>(.pred_female <span class="sc">&gt;</span> <span class="fl">0.55</span>, <span class="st">"female"</span>, <span class="st">"male"</span>) <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb52-5"><a href="#cb52-5"></a>        ) <span class="sc">|&gt;</span> </span>
<span id="cb52-6"><a href="#cb52-6"></a> <span class="fu">bind_cols</span>(peng_test <span class="sc">|&gt;</span> <span class="fu">select</span>(sex, <span class="fu">everything</span>())) </span>
<span id="cb52-7"><a href="#cb52-7"></a>peng_test_pred2 <span class="sc">|&gt;</span> <span class="fu">roc_auc</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_female)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.839</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="comparison-of-metrics-1" class="slide level2 smaller">
<h2>Comparison of metrics</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Flipper length, body mass</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>peng_test_pred1 <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.774</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>peng_test_pred1 <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.55</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.726</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>peng_test_pred1 <span class="sc">|&gt;</span> </span>
<span id="cb58-2"><a href="#cb58-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.821</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Bill length and depth</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>peng_test_pred2 <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.738</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>peng_test_pred2 <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.55</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.774</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>peng_test_pred2 <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2"></a> <span class="fu">accuracy</span>(<span class="at">truth =</span> sex, <span class="at">estimate =</span> .pred_class_0<span class="fl">.45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary          0.75</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="overview-of-predictions" class="slide level2 smaller">
<h2>Overview of predictions</h2>
<p>Bill length and depth</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>peng_test_pred2 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 84 × 6
   .pred_female .pred_male .pred_class_0.5 .pred_class_0.45 .pred_class_…¹ sex  
          &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;           &lt;fct&gt;            &lt;fct&gt;          &lt;fct&gt;
 1        0.487      0.513 male            female           male           fema…
 2        0.642      0.358 female          female           female         fema…
 3        0.278      0.722 male            male             male           male 
 4        0.614      0.386 female          female           female         fema…
 5        0.543      0.457 female          female           male           male 
 6        0.556      0.444 female          female           female         fema…
 7        0.339      0.661 male            male             male           male 
 8        0.736      0.264 female          female           female         fema…
 9        0.410      0.590 male            male             male           male 
10        0.855      0.145 female          female           female         fema…
# … with 74 more rows, and abbreviated variable name ¹​.pred_class_0.55</code></pre>
</div>
</div>
</section></section>
<section>
<section id="the-wisdom-of-the-crowd-diversity-and-the-bias-variance-decomposition" class="title-slide slide level1 center">
<h1>The wisdom of the crowd, “Diversity!”, and the Bias-Variance-Decomposition</h1>

</section>
<section id="galtons-data" class="slide level2 smaller">
<h2>Galton’s data</h2>
<p><em>What is the weight of the meat of this ox?</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb68-2"><a href="#cb68-2"></a>galton <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/galton_data.xlsx"</span>)</span>
<span id="cb68-3"><a href="#cb68-3"></a>galton <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(Estimate)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1198</span>, <span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span> </span>
<span id="cb68-4"><a href="#cb68-4"></a> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(galton<span class="sc">$</span>Estimate), <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="W10_files/figure-revealjs/unnamed-chunk-34-1.png" width="960"></p>
</div>
</div>
<p>787 estimates, <span style="color:green;">true value</span> 1198, <span style="color:red;">mean</span> 1196.7</p>

<aside><div>
<p>We focus on the arithmetic mean as aggregation function for the wisdom of the crowd here.</p>
</div></aside></section>
<section id="rmse-galtons-data" class="slide level2 smaller">
<h2>RMSE Galton’s data</h2>
<p>Describe the estimation game as a predictive model:</p>
<ul>
<li>All <em>estimates</em> are made to predict the same value: the truth.
<ul>
<li>In contrast to the regression model, the estimate come from people and not from a regression formula.</li>
</ul></li>
<li>The <em>truth</em> is the same for all.
<ul>
<li>In contrast to the regression model, the truth is one value and not a value for each prediction</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>rmse_galton <span class="ot">&lt;-</span> galton <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2"></a> <span class="fu">mutate</span>(<span class="at">true_value =</span> <span class="dv">1198</span>) <span class="sc">|&gt;</span></span>
<span id="cb69-3"><a href="#cb69-3"></a> <span class="fu">rmse</span>(<span class="at">truth =</span> true_value, <span class="at">estimate =</span> Estimate)</span>
<span id="cb69-4"><a href="#cb69-4"></a>rmse_galton</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rmse    standard        73.6</code></pre>
</div>
</div>
<!-- ## Regression vs. crowd estimation {.smaller} -->
<!-- The linear regression and the crowd estimation problems are similar but not identical! -->
<!-- |Variable      | Linear Regression Model                       | Crowd estimation -->
<!-- |--------------|-----------------------------------------------|-------------------------------------------- -->
<!-- | $y_i$        | Data point of response variable               | True value, uniform for all estimators $y_i = y$ -->
<!-- | $\hat{y}_i$  | Predicted value $\hat{y}_i=b_0+b_1+x_1+\dots$ | Estimate of one estimator -->
<!-- | $\bar{y}$    | Mean of response variable                     | Mean of estimates  -->
</section>
<section id="mse-variance-and-bias-of-estimates" class="slide level2 smaller">
<h2>MSE, Variance, and Bias of estimates</h2>
<p>In a crowd estimation, <span class="math inline">\(n\)</span> estimators delivered the estimates <span class="math inline">\(\hat{y}_1,\dots,\hat{y}_n\)</span>. Let us look at the following measures</p>
<ul>
<li><p><span class="math inline">\(\bar{y} = \frac{1}{n}\sum_{i = 1}^n \hat{y}_i^2\)</span> is the mean estimate, it is the aggregated estimate of the crowd</p></li>
<li><p><span class="math inline">\(\text{MSE} = \text{RMSE}^2 = \frac{1}{n}\sum_{i = 1}^n (\text{truth} - \hat{y}_i)^2\)</span></p></li>
<li><p><span class="math inline">\(\text{Variance} = \frac{1}{n}\sum_{i = 1}^n (\hat{y}_i - \bar{y})^2\)</span></p></li>
<li><p><span class="math inline">\(\text{Bias-squared} = (\bar{y} - \text{truth})^2\)</span> which is the square difference between truth and mean estimate.</p></li>
</ul>
<p>There is a mathematical relation (a math exercise to check):</p>
<p><span class="math display">\[\text{MSE} = \text{Bias-squared} + \text{Variance}\]</span></p>
</section>
<section id="testing-for-galtons-data" class="slide level2 smaller">
<h2>Testing for Galton’s data</h2>
<p><span class="math display">\[\text{MSE} = \text{Bias-squared} + \text{Variance}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>MSE <span class="ot">&lt;-</span> (rmse_galton<span class="sc">$</span>.estimate)<span class="sc">^</span><span class="dv">2</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>MSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5409.795</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>Variance <span class="ot">&lt;-</span> <span class="fu">var</span>(galton<span class="sc">$</span>Estimate)<span class="sc">*</span>(<span class="fu">nrow</span>(galton)<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="fu">nrow</span>(galton)</span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="co"># Note, we had to correct for the divisor (n-1) in the classical statistical definition</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="co"># to get the sample variance instead of the estimate for the population variance</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>Variance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5408.132</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>Bias_squared <span class="ot">&lt;-</span> (<span class="fu">mean</span>(galton<span class="sc">$</span>Estimate) <span class="sc">-</span> <span class="dv">1198</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>Bias_squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.663346</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>Bias_squared <span class="sc">+</span> Variance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5409.795</code></pre>
</div>
</div>

<aside><div>
<p>Such nice mathematical properties are probably one reason why these squared measures are so popular.</p>
</div></aside></section>
<section id="the-diversity-prediction-theorem" class="slide level2 smaller">
<h2>The diversity prediction theorem<sup>1</sup></h2>
<ul>
<li><em>MSE</em> is a measure the average <strong>individuals error</strong></li>
<li><em>Bias-squared</em> is a measure the <strong>collective error</strong></li>
<li><em>Variance</em> is a measure for the <strong>diversity</strong> of estimates around the mean</li>
</ul>
<p>The mathematical relation <span class="math display">\[\text{MSE} = \text{Bias-squared} + \text{Variance}\]</span> can be formulated as</p>
<p><strong>Collective error = Individual error - Diversity</strong></p>
<p>Interpretation: <em>The higher the diversity the lower the collective error!</em></p>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Notion from: Page, S. E. (2007). The Difference: How the Power of Diversity Creates Better Groups, Firms, Schools, and Societies. Princeton University Press.</p></li></ol></aside></section>
<section id="why-is-this-message-a-bit-suggestive" class="slide level2 smaller">
<h2>Why is this message a bit suggestive?</h2>
<p>The mathematical relation <span class="math display">\[\text{MSE} = \text{Bias-squared} + \text{Variance}\]</span> can be formulated as</p>
<p><strong>Collective error = Individual error - Diversity</strong></p>
<p>Interpretation: <em>The higher the diversity the lower the collective error!</em></p>
<div class="fragment">
<ul>
<li><span class="math inline">\(\text{MSE}\)</span> and <span class="math inline">\(\text{Variance}\)</span> are not independent!</li>
<li>Activities to increase diversity (Variance) typically also increase the average individual error (MSE).</li>
<li>For example, if we just add more random estimates with same mean but wild variance to our sample we increase both and do not gain any decrease of the collective error.</li>
</ul>
</div>
</section>
<section id="accuracy-for-numerical-estimate" class="slide level2 smaller">
<h2>Accuracy for numerical estimate</h2>
<ul>
<li>For binary classifiers <strong>accuracy</strong> has a simple definition: Fraction of correct classifications.
<ul>
<li>It can be further informed by other more specific measures taken from the confusion matrix (sensitivity, specificity)</li>
</ul></li>
</ul>
<p>How about numerical estimators?<br>
For example outcomes of estimation games, or linear regression models.</p>
<ul>
<li>Accuracy is for example measured by (R)MSE</li>
<li><span class="math inline">\(\text{MSE} = \text{Bias-squared} + \text{Variance}\)</span> shows us that we can make a<br>
<strong>bias-variance decomposition</strong></li>
<li>That means some part of the error is a systematic (the bias) and another part due to random variation (the variance).</li>
<li>Learn more about the bias-variance tradeoff in statistical learning independently! It is an important concept to understand predictive models.</li>
</ul>
</section>
<section id="d-accuracy-trueness-and-precision" class="slide level2 smaller">
<h2>2-d Accuracy: Trueness and Precision</h2>
<p>According to ISO 5725-1 Standard: <em>Accuracy (trueness and precision) of measurement methods and results - Part 1: General principles and definitions.</em> there are two dimension of accuracy of numerical measurement.</p>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/9/92/Accuracy_%28trueness_and_precision%29.svg"> <img data-src="img/accuracy_trueness_precision.png" height="300"></p>
</section>
<section id="what-is-a-wise-crowd" class="slide level2 smaller">
<h2>What is a wise crowd?</h2>
<p>Assume the dots are estimates. <strong>Which is a wise crowd?</strong></p>
<p><img data-src="img/accuracy_trueness_precision.png" height="300"></p>
<div class="fragment">
<ul>
<li>Of course, high trueness and high precision! But, …</li>
<li>Focusing on the <strong>crowd</strong> being wise instead of its <strong>individuals</strong>: High trueness, low precision.</li>
</ul>
</div>
</section></section>
<section>
<section id="hypothesis-testing" class="title-slide slide level1 center">
<h1>Hypothesis testing</h1>
<p>Large part of the content adapted from <a href="http://datasciencebox.org" class="uri">http://datasciencebox.org</a>.</p>
</section>
<section id="organ-donors" class="slide level2 smaller">
<h2>Organ donors</h2>
<p>People providing an organ for donation sometimes seek the help of a special “medical consultant”. These consultants assist the patient in all aspects of the surgery, with the goal of reducing the possibility of complications during the medical procedure and recovery. Patients might choose a consultant based in part on the historical complication rate of the consultant’s clients.</p>
<p>One consultant tried to attract patients by noting that the average complication rate for liver donor surgeries in the US is about 10%, but her clients have only had 3 complications in the 62 liver donor surgeries she has facilitated. She claims this is strong evidence that her work meaningfully contributes to reducing complications (and therefore she should be hired!).</p>
</section>
<section id="data" class="slide level2 smaller">
<h2>Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>organ_donor <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="at">outcome =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"complication"</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="st">"no complication"</span>, <span class="dv">59</span>))</span>
<span id="cb79-3"><a href="#cb79-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>organ_donor <span class="sc">|&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">count</span>(outcome)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  outcome             n
  &lt;chr&gt;           &lt;int&gt;
1 complication        3
2 no complication    59</code></pre>
</div>
</div>
</section>
<section id="parameter-vs.-statistic" class="slide level2 smaller">
<h2>Parameter vs.&nbsp;statistic</h2>
<p>A <strong>parameter</strong> for a hypothesis test is the “true” value of interest. We typically estimate the parameter using a <strong>sample statistic</strong> as a <strong>point estimate</strong>.</p>
<p><span class="math inline">\(p\)</span>: true rate of complication, here 0.1 (10% complication rate in US)</p>
<p><span class="math inline">\(\hat{p}\)</span>: rate of complication in the sample = <span class="math inline">\(\frac{3}{62}\)</span> = 0.048</p>
</section>
<section id="correlation-vs.-causation" class="slide level2 smaller">
<h2>Correlation vs.&nbsp;causation</h2>
<p><strong>Is it possible to assess the consultant’s claim using the data?</strong></p>
<p>No.&nbsp;The claim is: There is a causal connection, but the data are observational. For example, maybe patients who can afford a medical consultant can afford better medical care, which can also lead to a lower complication rate (for example).</p>
<p>While it is not possible to assess the causal claim, it is still possible to test for an association using these data. For this question we ask, <strong>could the low complication rate of <span class="math inline">\(\hat{p}\)</span> = 0.048 be due to chance?</strong></p>
</section>
<section id="two-claims" class="slide level2">
<h2>Two claims</h2>
<ul>
<li><strong>Null hypothesis:</strong> “There is nothing going on”</li>
</ul>
<p>Complication rate for this consultant is no different than the US average of 10%</p>
<ul>
<li><strong>Alternative hypothesis:</strong> “There is something going on”</li>
</ul>
<p>Complication rate for this consultant is <strong>lower</strong> than the US average of 10%</p>
</section>
<section id="hypothesis-testing-as-a-court-trial" class="slide level2 smaller">
<h2>Hypothesis testing as a court trial</h2>
<ul>
<li><p><strong>Null hypothesis</strong>, <span class="math inline">\(H_0\)</span>: Defendant is innocent</p></li>
<li><p><strong>Alternative hypothesis</strong>, <span class="math inline">\(H_A\)</span>: Defendant is guilty</p></li>
<li><p><strong>Present the evidence:</strong> Collect data</p></li>
<li><p><strong>Judge the evidence:</strong> “Could these data plausibly have happened by chance if the null hypothesis were true?”</p>
<ul>
<li>Yes: Fail to reject <span class="math inline">\(H_0\)</span></li>
<li>No: Reject <span class="math inline">\(H_0\)</span></li>
</ul></li>
</ul>
</section>
<section id="hypothesis-testing-framework" class="slide level2 smaller">
<h2>Hypothesis testing framework</h2>
<ul>
<li><p>Start with a null hypothesis, <span class="math inline">\(H_0\)</span>, that represents the status quo</p></li>
<li><p>Set an alternative hypothesis, <span class="math inline">\(H_A\)</span>, that represents the research question, i.e.&nbsp;what we are testing for</p></li>
<li><p>Conduct a hypothesis test under the assumption that the null hypothesis is true and calculate a <strong>p-value</strong>.<br>
<strong>Definition:</strong> <em>Probability of observed or more extreme outcome given that the null hypothesis is true.</em></p>
<ul>
<li>if the test results suggest that the data do not provide convincing evidence for the alternative hypothesis, stick with the null hypothesis</li>
<li>if they do, then reject the null hypothesis in favor of the alternative</li>
</ul></li>
</ul>
</section>
<section id="setting-the-hypotheses" class="slide level2 smaller">
<h2>Setting the hypotheses</h2>
<p>Which of the following is the correct set of hypotheses for the claim that the consultant has lower complication rates?</p>
<ol type="a">
<li><p><span class="math inline">\(H_0: p = 0.10\)</span>; <span class="math inline">\(H_A: p \ne 0.10\)</span></p></li>
<li><p><span class="math inline">\(H_0: p = 0.10\)</span>; <span class="math inline">\(H_A: p &gt; 0.10\)</span></p></li>
<li><p><span class="math inline">\(H_0: p = 0.10\)</span>; <span class="math inline">\(H_A: p &lt; 0.10\)</span></p></li>
<li><p><span class="math inline">\(H_0: \hat{p} = 0.10\)</span>; <span class="math inline">\(H_A: \hat{p} \ne 0.10\)</span></p></li>
<li><p><span class="math inline">\(H_0: \hat{p} = 0.10\)</span>; <span class="math inline">\(H_A: \hat{p} &gt; 0.10\)</span></p></li>
<li><p><span class="math inline">\(H_0: \hat{p} = 0.10\)</span>; <span class="math inline">\(H_A: \hat{p} &lt; 0.10\)</span></p></li>
</ol>
<div class="fragment">
<p>Correct is c.&nbsp;Hypotheses are be about the true rate of complication <span class="math inline">\(p\)</span> not the observed ones <span class="math inline">\(\hat{p}\)</span></p>
</div>
</section>
<section id="simulating-the-null-distribution" class="slide level2 smaller">
<h2>Simulating the null distribution</h2>
<p>Since <span class="math inline">\(H_0: p = 0.10\)</span>, we need to simulate a null distribution where the probability of success (complication) for each trial (patient) is 0.10.</p>
<p><strong>How should we simulate the null distribution for this study using a bag of chips?</strong></p>
<ul>
<li>How many chips? <span class="fragment" style="color:red;">For example 10 which makes 10% choices possible</span></li>
<li>How many colors? <span class="fragment" style="color:red;">2</span></li>
<li>What should colors represent? <span class="fragment" style="color:red;">“complication”, “no complication”</span></li>
<li>How many draws? <span class="fragment" style="color:red;">62 as the data</span></li>
<li>With replacement or without replacement? <span class="fragment" style="color:red;">With replacement</span></li>
</ul>
<p>When sampling from the null distribution, what would be the expected proportion of “complications”? <span class="fragment" style="color:red;">0.1</span></p>
</section>
<section id="simulation" class="slide level2 smaller">
<h2>Simulation!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb82-2"><a href="#cb82-2"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"complication"</span>, <span class="st">"no complication"</span>)</span>
<span id="cb82-3"><a href="#cb82-3"></a>sim1 <span class="ot">&lt;-</span> <span class="fu">sample</span>(outcomes, <span class="at">size =</span> <span class="dv">62</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-4"><a href="#cb82-4"></a>sim1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "no complication" "no complication" "no complication" "no complication"
 [5] "no complication" "no complication" "no complication" "no complication"
 [9] "no complication" "no complication" "no complication" "no complication"
[13] "no complication" "complication"    "no complication" "no complication"
[17] "no complication" "no complication" "no complication" "no complication"
[21] "no complication" "no complication" "no complication" "no complication"
[25] "no complication" "no complication" "no complication" "complication"   
[29] "no complication" "no complication" "no complication" "no complication"
[33] "no complication" "no complication" "no complication" "no complication"
[37] "no complication" "no complication" "complication"    "no complication"
[41] "no complication" "no complication" "no complication" "no complication"
[45] "no complication" "no complication" "no complication" "no complication"
[49] "no complication" "no complication" "no complication" "no complication"
[53] "no complication" "no complication" "no complication" "no complication"
[57] "no complication" "no complication" "no complication" "no complication"
[61] "no complication" "no complication"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">sum</span>(sim1 <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0483871</code></pre>
</div>
</div>
<p>Oh OK, this was is pretty close to the consultant’s rate. But maybe it was a rare event?</p>
</section>
<section id="more-simulation" class="slide level2 smaller">
<h2>More simulation!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>one_sim <span class="ot">&lt;-</span> <span class="cf">function</span>() <span class="fu">sample</span>(outcomes, <span class="at">size =</span> <span class="dv">62</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb86-2"><a href="#cb86-2"></a></span>
<span id="cb86-3"><a href="#cb86-3"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1290323</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1290323</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.09677419</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.09677419</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1774194</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1129032</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">sum</span>(<span class="fu">one_sim</span>() <span class="sc">==</span> <span class="st">"complication"</span>)<span class="sc">/</span><span class="dv">62</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1129032</code></pre>
</div>
</div>
</section>
<section id="automating-with-tidymodels" class="slide level2 smaller">
<h2>Automating with <code>tidymodels</code><sup>1</sup></h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>organ_donor</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 62 × 1
   outcome        
   &lt;chr&gt;          
 1 complication   
 2 complication   
 3 complication   
 4 no complication
 5 no complication
 6 no complication
 7 no complication
 8 no complication
 9 no complication
10 no complication
# … with 52 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb102-2"><a href="#cb102-2"></a>null_dist <span class="ot">&lt;-</span> organ_donor <span class="sc">|&gt;</span></span>
<span id="cb102-3"><a href="#cb102-3"></a>  <span class="fu">specify</span>(<span class="at">response =</span> outcome, <span class="at">success =</span> <span class="st">"complication"</span>) <span class="sc">|&gt;</span></span>
<span id="cb102-4"><a href="#cb102-4"></a>  <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"point"</span>, </span>
<span id="cb102-5"><a href="#cb102-5"></a>              <span class="at">p =</span> <span class="fu">c</span>(<span class="st">"complication"</span> <span class="ot">=</span> <span class="fl">0.10</span>, <span class="st">"no complication"</span> <span class="ot">=</span> <span class="fl">0.90</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb102-6"><a href="#cb102-6"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">100</span>, <span class="at">type =</span> <span class="st">"draw"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb102-7"><a href="#cb102-7"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"prop"</span>)</span>
<span id="cb102-8"><a href="#cb102-8"></a>null_dist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Response: outcome (factor)
Null Hypothesis: point
# A tibble: 100 × 2
   replicate   stat
   &lt;fct&gt;      &lt;dbl&gt;
 1 1         0.0323
 2 2         0.0645
 3 3         0.0968
 4 4         0.0161
 5 5         0.161 
 6 6         0.0968
 7 7         0.0645
 8 8         0.129 
 9 9         0.161 
10 10        0.0968
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Of course, you can also do it in your own way without packages.</p></li></ol></aside></section>
<section id="visualizing-the-null-distribution" class="slide level2 smaller">
<h2>Visualizing the null distribution</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> null_dist, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> stat)) <span class="sc">+</span></span>
<span id="cb104-2"><a href="#cb104-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb104-3"><a href="#cb104-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Null distribution"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W10_files/figure-revealjs/unnamed-chunk-43-1.png" width="960" class="r-stretch"></section>
<section id="calculating-the-p-value-visually" class="slide level2 smaller">
<h2>Calculating the p-value, visually</h2>
<p>What is the p-value: <em>How often was the simulated sample proportion at least as extreme as the observed sample proportion?</em></p>

<img data-src="W10_files/figure-revealjs/unnamed-chunk-44-1.png" style="width:50.0%" class="r-stretch"></section>
<section id="calculating-the-p-value-directly" class="slide level2">
<h2>Calculating the p-value, directly</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>null_dist <span class="sc">|&gt;</span></span>
<span id="cb105-2"><a href="#cb105-2"></a> <span class="fu">summarise</span>(<span class="at">p_value =</span> <span class="fu">sum</span>(stat <span class="sc">&lt;=</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">62</span>)<span class="sc">/</span><span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1    0.13</code></pre>
</div>
</div>
<p>This is the fraction of simulations where complications was equal or below 0.0483871.</p>
</section>
<section id="significance-level" class="slide level2 smaller">
<h2>Significance level</h2>
<ul>
<li><p>A <strong>significance level</strong> <span class="math inline">\(\alpha\)</span> is a threshold we make up to make our judgment about the plausibility of the null hypothesis being true given the observed data.</p></li>
<li><p>We often use <span class="math inline">\(\alpha = 0.05 = 5\%\)</span> as the cutoff for whether the p-value is low enough that the data are unlikely to have come from the null model.</p></li>
<li><p>If p-value &lt; <span class="math inline">\(\alpha\)</span>, reject <span class="math inline">\(H_0\)</span> in favor of <span class="math inline">\(H_A\)</span>: The data provide convincing evidence for the alternative hypothesis.</p></li>
<li><p>If p-value &gt; <span class="math inline">\(\alpha\)</span>, fail to reject <span class="math inline">\(H_0\)</span> in favor of <span class="math inline">\(H_A\)</span>: The data do not provide convincing evidence for the alternative hypothesis.</p></li>
</ul>
<p><strong>What is the conclusion of the hypothesis test?</strong></p>
<p>Since the p-value is greater than the significance level, we fail to reject the null hypothesis. These data do not provide convincing evidence that this consultant incurs a lower complication rate than the 10% overall US complication rate.</p>
</section>
<section id="simulations-is-not-sufficient" class="slide level2 smaller">
<h2>100 simulations is not sufficient</h2>
<ul>
<li>We simulate 15,000 times to get an accurate distribution.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>null_dist <span class="ot">&lt;-</span> organ_donor <span class="sc">|&gt;</span></span>
<span id="cb107-2"><a href="#cb107-2"></a>  <span class="fu">specify</span>(<span class="at">response =</span> outcome, <span class="at">success =</span> <span class="st">"complication"</span>) <span class="sc">|&gt;</span></span>
<span id="cb107-3"><a href="#cb107-3"></a>  <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"point"</span>, </span>
<span id="cb107-4"><a href="#cb107-4"></a>              <span class="at">p =</span> <span class="fu">c</span>(<span class="st">"complication"</span> <span class="ot">=</span> <span class="fl">0.10</span>, <span class="st">"no complication"</span> <span class="ot">=</span> <span class="fl">0.90</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb107-5"><a href="#cb107-5"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">15000</span>, <span class="at">type =</span> <span class="st">"simulate"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb107-6"><a href="#cb107-6"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"prop"</span>)</span>
<span id="cb107-7"><a href="#cb107-7"></a><span class="fu">ggplot</span>(<span class="at">data =</span> null_dist, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> stat)) <span class="sc">+</span></span>
<span id="cb107-8"><a href="#cb107-8"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb107-9"><a href="#cb107-9"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">62</span>, <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="W10_files/figure-revealjs/unnamed-chunk-46-1.png" width="960" class="r-stretch"></section>
<section id="our-more-robust-p-value" class="slide level2">
<h2>Our more robust p-value</h2>
<p>For the null distribution with 15,000 simulations</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>null_dist <span class="sc">|&gt;</span></span>
<span id="cb108-2"><a href="#cb108-2"></a>  <span class="fu">filter</span>(stat <span class="sc">&lt;=</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">62</span>) <span class="sc">|&gt;</span></span>
<span id="cb108-3"><a href="#cb108-3"></a>  <span class="fu">summarise</span>(<span class="at">p_value =</span> <span class="fu">n</span>()<span class="sc">/</span><span class="fu">nrow</span>(null_dist))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1   0.125</code></pre>
</div>
</div>
<p>Oh OK, our fist p-value was much more borderline in favor of the alternative hypothesis.</p>
</section>
<section id="xkcd-on-p-values" class="slide level2 smaller">
<h2>xkcd on p-values</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p><a href="https://xkcd.com/1478/"><img data-src="https://imgs.xkcd.com/comics/p_values_2x.png" height="500"></a> <a href="https://xkcd.com/882/"><img data-src="https://imgs.xkcd.com/comics/significant.png" height="500"></a></p>
</div><div class="column" style="width:40%;">
<div class="fragment">
<ul>
<li>Significance levels are fairly arbitrary. Sometimes they are used (wrongly) as definitive judgments</li>
<li>They can even be used to do <em>p-hacking</em>: Searching for “significant” effects in observational data</li>
<li>In parts of science it has become a “gamed” performance metric.</li>
<li>The p-value syas nothing about effect size!</li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="math-probability" class="title-slide slide level1 center" data-background-color="yellow">
<h1>Math: Probability</h1>

</section>
<section id="probability-topics-for-data-science" class="slide level2 smaller">
<h2>Probability Topics for Data Science</h2>
<p>Some concepts and topics</p>
<div>
<ul>
<li class="fragment">The concept of probability form the mathematical perspective.</li>
<li class="fragment">What is the difference between probability theory and statistics?</li>
<li class="fragment">What are probabilistic events, probability functions and random variables.</li>
<li class="fragment">How do random variables relate to data?</li>
<li class="fragment">Probabilistic simulations. For example bootstrapping.</li>
<li class="fragment">Conditional probabilities and their relation to the confusion matrix.</li>
<li class="fragment">Continuous random variables and some theoretical distributions.</li>
<li class="fragment">The central limit theorem.</li>
<li class="fragment">What is the difference between probability theory and statistics?</li>
</ul>
</div>
</section>
<section id="what-is-probability" class="slide level2 smaller">
<h2>What is probability</h2>
<div>
<ul>
<li class="fragment">The systematic and rigorous treatment of uncertainty.</li>
<li class="fragment">We have a certain intuition of probability visible in sentences like:
<ul>
<li class="fragment">“That’s not very probable.”</li>
<li class="fragment">“That is likely.”</li>
<li class="fragment">“I don’t have a prior for that.”</li>
</ul></li>
<li class="fragment">We can call it a <strong>model for uncertainty</strong>: A simplified but formalized way to think about uncertain events.</li>
<li class="fragment">The model of probability is one of the most successful mathematical models. It is used in many domains.</li>
</ul>
</div>
</section>
<section id="two-different-flavors" class="slide level2 smaller">
<h2>Two different flavors</h2>
<ul>
<li>Model for uncertainty as <em>subjective</em> or <em>objective</em> probability of an uncertain event.</li>
<li>They are also called <em>Bayesian</em> vs.&nbsp;<em>Frequentist</em> interpretation of probability. * They differ in the way of reasoning, the interpretation what is random, and in terminology.</li>
</ul>
</section>
<section id="objective-interpretation" class="slide level2 smaller">
<h2>Objective interpretation</h2>
<p>Probability is <em>relative frequency</em> in the limit of indefinite sampling. It is the long run behavior of non-deterministic outcomes.</p>
<ul>
<li>If we flip the same coin several times the relative frequency of the number of HEADS converges to the probability of HEADS.</li>
<li>If we draw people at random the relative frequency of people with heights between 1.70m and 1.75m converges to the probability that a person is in this range.</li>
<li>In this frequentist philosophy the parameters of the population we sample from is fixed and the data is a random selection.</li>
</ul>
</section>
<section id="subjective-interpretation" class="slide level2 smaller">
<h2>Subjective interpretation</h2>
<p>Probability is a belief a person has about the likelihood that an event occurs. This can be formalized by the condition under which a person would make a bet.</p>
<ul>
<li>If say we flip a coin, we can offer a person a bet for HEADS, e.g.&nbsp;you gain 1€ when the outcome is heads and you lose 2€ when it is TAILS. The person would be indifferent between accepting and rejecting the bet if their subjective belief is that HEADS will come two times more likely than TAILS (odds 2:1 or probability 2/3). The subjective probability is the probability where the person is indifferent.</li>
<li>We can make up similar bets for the heights of randomly drawn people.</li>
<li>In Bayesian philosophy the data we know is fixed but the parameters of the population are random and associated with probabilities.</li>
</ul>
<p><span style="color:red;">The objective and subjective views are not mutually exclusive and it is not important to take a side.</span></p>


<img src="img/JACOBS_LOGO_RGB_Internet.jpg" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://janlorenz.github.io/JU-F22-MSDSSB-DSOC-02/">JU-F22-MDSSB-DSCO-02: Data Science Concepts</a></p>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>